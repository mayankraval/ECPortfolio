@model IEnumerable<Joshua.Models.Content>
@{
  var columns = 3; // from 1 to 5
  var spansize = 12 / columns;
}
@if (Model != null)
{
  var groupitems = (int)Math.Ceiling((double)Model.Count() / columns);
  for (int c = 0; c < columns; c++)
  {
  <div class="span@(spansize)">
    @for (int i = 0; i < Math.Min(Model.Count(), groupitems * c); i++)
    {
      var item = Model.ElementAt(i);
      <div class="thumbnail-box">
        @if (!string.IsNullOrEmpty(item.ImageUri))
        {
          <header>
            <img src ="@item.GetImageUri()" />
          </header>
        }
        <a href="@item.Path">
          <h3>@item.Title</h3>
        </a>
        @MvcHtmlString.Create(item.Abstract)
      </div>
    }
  </div>
  }
}



