@model Joshua.Models.Container
@{
  var db = DeNSo.Session.New;
}
@if (Model != null)
{
  var subs = db.Get<Joshua.Models.Container>(c => c.ParentId == Model._Id).ToList();
  var hassub = subs != null && subs.Count > 0;
  <li class="@(hassub ? "dropdown-submenu" : "")"><a href="@Url.Content("~/Admin/Content/Index/" + @Model._Id)">@Model.Description</a>
    <ul class="dropdown-menu">
      @foreach (var sub in subs.OrderBy(c => c.Description))
      { 
        @Html.Partial("~/Areas/Admin/Views/Shared/_NavigationBar_Sub.cshtml", sub)
      }
    </ul>
  </li>  
}