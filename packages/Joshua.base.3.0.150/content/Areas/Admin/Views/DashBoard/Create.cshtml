@using Joshua.Areas.Admin.Models
@model Joshua.Areas.Admin.Models.DashboardViewModel
@{
  ViewBag.Title = "Create new dashboard content";
  Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<h2 class="controls">Edit Dashboard content</h2>


@using (Html.BeginForm("Save", "Dashboard", new { area = "Admin" }, FormMethod.Post, new { enctype = "multipart/form-data", @class = "form-horizontal", id = "create_new_content_form" }))
{
  <div class="span9">
    @Html.ValidationSummary(true)

    <fieldset>
      <legend></legend>
      <style>
        .control-label, .controls {
          text-align: left;
        }
      </style>

      <div class="control-group">
        @Html.LabelFor(model => model.Name, new { @class = "control-label" })
        <div class="controls">
          @Html.EditorFor(model => model.Name)
          @Html.ValidationMessageFor(model => model.Name)
        </div>
      </div>

      <div class="tabbable">
        <ul class="nav nav-tabs">
          <li class="active"><a href="#tab1" data-toggle="tab">Body</a></li>
        </ul>
        <div class="tab-content">
          <div class="tab-pane active" id="tab1">
        <div class="editablebody" data-mercury="full" data-hiddenfield="Content" style="width: 98%;">
                @MvcHtmlString.Create(Model != null ? Model.Content : "Your content here")
              </div>
              @Html.HiddenFor(model => model.Content)
              @Html.ValidationMessageFor(model => model.Content)
          </div>
        </div>
      </div>

    </fieldset>
  </div>
  
  <div class="span3">
    <div class="btn-group" style="margin-top: 10px;">
      <button class="btn btn-primary btn-large" onclick="javascript:$('#create_new_content_form').submit()"><i class="icon-ok icon-white"></i>&nbsp;Save</button>
      <a href="/Admin/Content/Index/" class="btn btn-large"><i class="icon-arrow-left"></i>&nbsp;Cancel</a>
    </div>
  </div>
}

@section Scripts {
  @Scripts.Render("~/bundles/jqueryval")
  @Html.Partial("Partial_mercury")

}
