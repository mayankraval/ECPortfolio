@model IEnumerable<Joshua.Models.Container>
@{
  ViewBag.Title = "Containers";
  Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}
<div class="container">
  <h1>Containers </h1>
  <p>

    <a href="javascript:NewContainer()" class="btn btn-success btn-large">
      <i class="icon-plus icon-white"></i>
    </a>
  </p>

  @if (Model != null)
  {
    <ul class="nav nav-tabs nav-stacked">
      @foreach (var item in Model)
      { 
        @Html.Partial("_Index_Row", item)
      }
    </ul>
  }
</div>


@Html.Part_Modal("inlinecreatedialog",
                 content: Html.Partial("_Inline_Create", new Joshua.Models.Container()),
                 width: 400, showheader: true, header: "new container")

@section scripts
{
  @Scripts.Render("~/bundles/jqueryval")
  <script type="text/javascript">

    function NewContainer(parent) {
      $("#inlinecreatedialog").modal({ keyboard: false });
      CreateNewContainer(parent);
    }

    function deleteItem(itemid) {
      ShowModal("Warning", "the selected container will be deleted", function () {
        $.get("@Url.Content("~/Admin/Containers/Delete")/" + itemid, null, function (data) {
            if (Boolean(data)) {
              $("#item_" + itemid).remove();
              ShowAlert("The container has been deleted ");
            }
            else {
              ShowAlert(data);
            }
          });
        });
      }
  </script>
}
